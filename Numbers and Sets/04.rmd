# Sets, Functions and Relations

A set is a collection of mathematical objects.\
E.g. $\mathbb{R}, \mathbb{N}, \{1, 5, 9\}, [-2, 3]$.\
The order of the elements in the set is immaterial, and elements are counted only once (unlike sequences). \
E.g. $\{1, 3, 7\} = \{1, 7, 3\}$ and $\{3, 4, 4, 8\} = \{3, 4, 8\}$.

We write $x \in A$ if $x$ is an element of the set $A$, and $x \notin A$ if not.\
Two sets are equal if they have the same elements.
That is, if $\forall \; x, x \in A \iff x \in B$, then $A = B$.
In particular, there is only one empty set $\emptyset$.

A set $B$ is a subset of $A$, written "$B \subseteq A$ or "$B \subset A$", if every element of $B$ is an element of $A$.
```{r 04-subset, echo = FALSE, fig.cap = "", fig.align="center", out.height="300"} 
knitr::include_graphics("figures/04-subset.png") 
```
$B$ is said to be a *proper* subset of $A$ if $B \subseteq A$ and $B \neq A$ (also write $B \subsetneq A$).

Note that $A = B$ iff $A \subseteq B$ and $B \subseteq A$.

If $A$ is a set and $P$ is a property of (some) elements of $A$, we can write $\{x \in A : P(x)\}$ for the subset of $A$ comprising of those elements for which $P(x)$ holds, this is called subset selection.
E.g. $\{n \in \mathbb{N} : n \text{ is prime}\} = \{2, 3, 5, 7, 11, \ldots\} \subseteq \mathbb{N}$.

If $A$ and $B$ are sets, then their *union* $A \cup B$ is 
\begin{align*}
    A \cup B = \{x : x \in A \text{ or } x \in B\}.
\end{align*} 
```{r 04-union, echo = FALSE, fig.cap = "", fig.align="center", out.height="300"} 
knitr::include_graphics("figures/04-union.png") 
```

Their *intersection* $A \cap B$ is defined to be 
\begin{align*}
    A \cap B = \{x: x \in A \text{ and } x \in B\}.
\end{align*} 
```{r 04-intersect, echo = FALSE, fig.cap = "", fig.align="center", out.height="300"} 
knitr::include_graphics("figures/04-intersect.png") 
```

We say $A$ and $B$ are *disjoint* if $A \cap B = \emptyset$^[This justifies why we need the notion of the empty set, otherwise we wouldn't be able to take the intersection of arbitrary pairs of sets.]
Note that we can view intersection as a special case of subset selection: $A \cap B = \{x \in A : x \in B\}$.

Similarly, we have the *set difference* $A \setminus B = \{x \in A : x \notin B\}$.

Note that $\cup$ and $\cap$ are both commutative and associative.
Also, $\cup$ is distributive over $\cap$, i.e.
\begin{align*}
    A \cup (B \cap C) = (A \cup B) \cap (A \cup C),
\end{align*} 
*and* $\cap$ is distributive over $\cup$, i.e.
\begin{align*}
    A \cap (B \cup C) = (A \cap B) \cup (A \cap C).
\end{align*} 

:::{.proof}
To prove $A \cap (B \cup C) = (A \cap B) \cup (A \cap C)$, show that LHS $\subseteq$ RHS and RHS $\subseteq$ LHS, so LHS $=$ RHS.

If $x \in A \cap (B \cup C)$, then $x \in A$ and $x \in B \cup C$, so $x \in A$ and ($x \in B$ or $x \in C$).\
If $x \in B$, then $x \in A \cap B$, and if $x \in C$, then $x \in A \cap C$.
Hence, in any case $x \in (A \cap B) \cup (A \cap C)$.

Conversely, suppose $x \in (A \cap B) \cup (A \cap C)$, then $x \in A \cap B$ or $x \in A \cap C$.\
If $x \in A \cap B$, then $x \in A$ and $x \in B \cup C$.\
If $x \in A \cap C$, then $x \in A$ and $x \in B \cup C$, so in any case $x \in A \cap (B \cup C)$.
:::

If $A_1, A_2, A_3, \ldots$ are sets, then
\begin{align*}
    \bigcap_{n = 1}^\infty A_n &= A_1 \cap A_2 \cap A_3 \cap \ldots \\
    &= \{x : x \in A_n \text{ for all } n \in \mathbb{N}\}. \\
    \text{Similarly } \bigcup_{n = 1}^\infty A_n &= A_1 \cup A_2 \cup A_3 \cup \ldots \\
    &= \{x : x \in A_n \text{ for some } n \in \mathbb{N}\}. \\
\end{align*} 
*Warning*: $\bigcup_{n = 1}^\infty A_n$ is *not* the "limit" of anything!

More generally, given an index set $I$ and a collection of sets $A_i$ indexed by $I$ (we have a $A_i$ for every $i \in I$), we write
\begin{align*}
    \bigcap_{i \in I} A_i &= \{x : x \in A_i \; \forall \; i \in I\} \\
    \text{and } \bigcup_{i \in I} A_i &= \{x : x \in A_i \text{ for some } i \in I\}. \\
\end{align*} 

Given sets $A$ and $B$, we can form their *Cartesian product* $A \times B = \{(a, b) : a \in A, b \in B\}$ ("$A$ cross $B$"), which is the set of *ordered pairs* $(a, b)$ with $a \in A, b \in B$.\
Here $(a, b) = (a', b') \iff a = a' \text{ and } b = b'$.^[Note we can define $(a, b) = \{a, \{a, b\}\}$, the first element and the unordered pair.]
We can extend this to ordered triples and so on, e.g. $\mathbb{R}^3 = \mathbb{R} \times \mathbb{R} \times \mathbb{R}$
\begin{align*}
    \mathbb{R}^3 &= \mathbb{R} \times \mathbb{R} \times \mathbb{R} \\
    &= \{(x, y, z) : x \in \mathbb{R}, y \in \mathbb{R}, z \in \mathbb{R}\}.
\end{align*} 

For any set $X$, we can form the *power set* $\mathcal{P}(X)$ consisting of all subsets of $X$, that is, 
\begin{align*}
    \mathcal{P}(X) = \{Y : Y \subseteq X\}.
\end{align*} 
E.g. if $X = \{1, 2\}$, then $\mathcal{P}(X) = \left\{\emptyset, \{1\}, \{2\}, \{1, 2\} \right\}$.

*Warning*: Given a set $A$, we can form $\{x \in A: P(x)\}$ for any property $P$.
But we *cannot* form $\{x : P(x)\}$.
Indeed, suppose $X = \{x : x \text{ is a set and } x \notin x\}$ were a set. \
Then $X \in X$ implies that $X \notin X$ ⨳ \
while $X \notin X$ implies that $X \in X$ ⨳. \
This is know as *Russell's Paradox*.

Similarly, there is no "universal" set $Y$, meaning that $\forall \; x, x \in Y$.
Otherwise we could form $X$ above by subset selection:
\begin{align*}
    X = \{ x \in Y: x \notin x\}.
\end{align*} 

*Moral*: To guarantee that a given set exists, it should be obtained from known sets (e.g. $\mathbb{N}, \mathbb{R}$) in one of the ways described above.

## Finite Sets

Write $\mathbb{N}_0 = \mathbb{N} \cup \{0\}$, i.e. $\{0, 1, 2, 3, \ldots\}$^[We do this so we have a size $0$ set].\
Given $n \in \mathbb{N}_0$, we say a set $A$ has size $n$ if we can write $A = \{a_1, a_2, \ldots, a_n\}$ with the elements $a_i$ distinct.
E.g. $\{1, 3, 7\}$ has size $3$, $\emptyset$ has size $0$.

We say $A$ is *finite* if $\exists n \in \mathbb{N}_0$ s.t. $A$ has size $n$, and $A$ is *infinite* otherwise.

::: {.proposition #fone}
A set of size $n$ has exactly $2^n$ subsets.
:::

::: {.proof name="1"}
We may assume that our set is $\{1, 2, \ldots, n\}$. \
To specify a subset $S$ of $\{1, 2, \ldots, n\}$, we must say if $1 \in S$ or $1 \notin S$, then if $2 \in S$ or $2 \notin S$, and so on.\
Hence the number of choices for $S$ is
\begin{align*}
    \underbrace{2}_{1 \in S?} \cdot \underbrace{2}_{2 \in S?} \ldots \cdot \underbrace{2}_{n \in S?}= 2^n
\end{align*} 
:::

::: {.proof name="2"}
By induction on $n$.
Clearly true for $n = 0$.
Given $n > 0$, and $T \subseteq \{1, 2, \ldots, n - 1\}$, how many sets $S \subseteq \{1, 2, \ldots, n\}$ are there s.t. $S \cap \{1, \ldots, n - 1\} = T?$.

```{r 04-no-of-subsets, echo = FALSE, fig.cap = "", fig.align="center", out.height="300"} 
knitr::include_graphics("figures/04-no-of-subsets.png") 
```

There are exactly $2$, namely $T$ and $T \cup \{n\}$.\
Hence the no. of subsets of $\{1, 2, \ldots, n\}$ 
\begin{align*}
    \{1, 2, \ldots, n\} &= 2 \times \text{ no. of subsets of } \{1, 2, \ldots, n - 1\} \\
    &= 2 \cdot 2^{n - 1} \\
    &= 2^n.
\end{align*} 
:::