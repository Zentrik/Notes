# The Reals

We have seen $\mathbb{N} \subset \mathbb{Z} \subset \mathbb{Q}$ ($\mathbb{N} \to \mathbb{Z}$ lets us subtract and $\mathbb{Z} \to \mathbb{Q}$ gives us division).
Why stop here?

::: {.proposition #t-one}
There is no rational $x$ with $x^2 = 2$.
:::

::: {.proof}
Suppose $x^2 = 2$.
Note we may assume $x > 0$ since $(-x)^2 = x^2$.
If $x$ is rational then $x = \frac{a}{b}$ for some $a, b \in \mathbb{N}$.
Thus $x^2 = \frac{a^2}{b^2} = 2$, or $a^2 = 2 b^2$.
But the exponent of $2$ in the prime factorisation of $a^2$ is even while the exponent of $2$ in the prime factorisation of $2 b^2$ is odd, contradicting the Fundamental Theorem of Arithmetic, \@ref(thm:fta).
:::

*Note*: The same proof shows that if $\exists \; x \in \mathbb{Q}$ with $x^2 = n$ for some $n \in \mathbb{N}$, then $n$ must be a square.

::: {.proof name="Alternative proof"}
Suppose $x^2 = 2$ for some $x = \frac{a}{b}$ with $a, b \in \mathbb{N}$.
Then for any $c, d \in \mathbb{Z}$, $cx + d$ is of the form $\frac{e}{b}$ for some $e \in \mathbb{Z}$.
Thus if $cx + d > 0$, then $cx + d \geq \frac{1}{b}$.
But $0 < x - 1 < 1$ as $1 < x < 2$ so if $n$ is sufficiently large, $0 < (x - 1)^n < \frac{1}{b}$.
But for any $n \in \mathbb{N}$, $(x - 1)^n$ is of the form $cx + d$ for some $c, d \in \mathbb{Z}$, since $x^2 = 2$.
This is a contradiction.
:::

So "$\mathbb{Q}$ has a gap".
How do we express the fact making reference only to $\mathbb{Q}$?

```{r 03-number-line, echo = FALSE, fig.cap = "", fig.align="center"} 
knitr::include_graphics("figures/03-number-line.png") 
```

2 is an upper bound for the set of $x$ s.t. $x^2 < 2$, but so is $1.5$, and 1.42, ... \
*Crucial point*: In $\mathbb{Q}$, there is no least upper bound.

## The Reals
The real numbers, written $\mathbb{R}$, are a set with elements $0$ and $1$ ($0 \neq 1$), equipped with operations $+$ and $\cdot$, and an ordering $<$ such that

1. $+$ is commutative and associative with identity $0$, and every $x$ has an inverse under $+$;

2. $\cdot$ is commutative and associative with identity $1$, and every $x \neq 0$ has an inverse under $\cdot$;

3. $\cdot$ is distributive over $+$, that is, $\forall \; a, b, c$
\begin{align*}
    a (b + c) = ab + ac
\end{align*} 

4. $\forall \; a, b$, exactly one of $a < b$ or $a = b$ or $b < a$ holds, and $\forall \; a, b, c$, 
\begin{align*}
    a < b \text{ and } b < c \implies a < c;
\end{align*} 

5. $\forall \; a, b, c$ 
\begin{align*}
    \forall \; a, b, c & a < b &\implies a + c < b + c \\
    \text{and } & a < b &\implies ac < bc \text{ if } c > 0.
\end{align*} 

(The above all hold for the rationals)

6. Given any set $S$ of reals that is non-empty and bounded above $S$ has a least upper bound.

6 is known as the *least upper bound axiom*

We say that a set $S$ is bounded above if $\exists \; x \in \mathbb{R}$ s.t. $x \geq y \; \forall \; y \in S$.
Such an $x$ is called an *upper bound for $S$*. 
$x$ is the *least upper bound for $S$* if $x$ is an upper bound for $S$ and every other upper bound $x'$ satisfies $x' \geq x$.\
When $x$ is a least upper bound for $S$, we may write "$\operatorname{LUB}(S) = x$" or "$\operatorname{supremum}(S) = x$" or "$\sup(S) = x$".

::: {.remark}
\ 

i. From (1) - (5), we can check, for example, that $0 < 1$ (we have just let $0$ and $1$ represent the identities).
Indeed, if not, then $1 < 0$ ($0 \neq 1$) so $0 = 1 - 1 < 0 - 1 = -1$ ($-1 > 0$) so $0 (-1) < (-1) (-1) = 1$, a contradiction.

ii. We may consider $\mathbb{Q}$ as contained in $\mathbb{R}$, by identity $\frac{a}{b} \in \mathbb{Q}$ with $a \cdot b^{-1} \in \mathbb{R}$ ($b^{-1}$ is the multiplicative inverse we have not shown that $b^{-1} = \frac{1}{b}$ yet).

iii. $\mathbb{Q}$ doesn't satisfy (6) as e.g. the set of $x$ s.t. $x^2 < 2$ does not have a supremum.

iv. In (6), the words "non-empty" and "bounded above" are crucial:\
If $S$ is empty then every $x \in \mathbb{R}$ is an upper bound for $S$, so there is no least upper bound.\
If $S$ is not bounded above, then it has no upper bound, and certainly no *least* upper bound.

v. It is possible to construct $\mathbb{R}$ "out of" $\mathbb{Q}$ and check that (1) - (6), but it takes a lot of effort.
:::

::: {.example}
$S = \{ x \in \mathbb{R} : 0 \leq x \leq \mathbb{R} \}$
```{r 03-exm-1, echo = FALSE, fig.cap = "", fig.align="center"} 
knitr::include_graphics("figures/03-exm-1.png") 
```

Is $2$ an upper bound for $S$?
Yes: $\forall \; x \in S, x \leq 2$.\
Is $\frac{3}{4}$ an upper bound for $S$?
No: $\frac{7}{8} \in S, \frac{7}{8} \leq \frac{3}{4}$.

The least upper bound of $S$ is $1$ because 

- 1 is an upper bound (as $\forall \; x \in S, x \leq 1$)

- every other upper bounds has $y \geq 1$ (as $1 \in S$).

Hence $\sup (S) = 1$

\begin{align*}
    S &= \{ x \in \mathbb{R} : 0 \leq x \leq 1 \} \\
    &= [0, 1]
\end{align*} 
:::

::: {.example}
\begin{align*}
    S &= \{ x \in \mathbb{R} : 0 < x < 1 \} \\
    &= (0, 1)
\end{align*} 

```{r 03-exm-2, echo = FALSE, fig.cap = "", fig.align="center"} 
knitr::include_graphics("figures/03-exm-2.png") 
```

Is $2$ an upper bound for $S$?
Yes: $\forall \; x \in S, x \leq 2$.\
Is $\frac{3}{4}$ an upper bound for $S$?
No: $\frac{7}{8} \in S, \frac{7}{8} \leq \frac{3}{4}$.

We have $\sup (S) = 1$ because 

- $1$ is an upper bound: $\forall \; x \in S \ x \leq 1$;

- no upper bound $c$ is s.t. $c < 1$.
Indeed, c is certainly greater than 0 (in fact $c \geq \frac{1}{2}$ since $\frac{1}{2} \in S$), so if $c < 1$, then $0 < c < 1$, so $\frac{c + 1}{2} \in S$ with $\frac{c + 1}{2} > c$ ⨳.
```{r 03-exm-2-2, echo = FALSE, fig.cap = "", fig.align="center"} 
knitr::include_graphics("figures/03-exm-2-2.png") 
```

*Warning* If $S$ has a greatest element, then $\sup (S) = \max (S) \in S$.
But $\sup (S)$ can exist when $\max (S)$ does not, in which case $\sup (S) \in S$.
:::

::: {.example #three}
\begin{align*}
    S &= \{ 1 - \frac{1}{n} : n \in \mathbb{N} \} \\
    &= \{ 0, \frac{1}{2}, \frac{2}{3}, \frac{3}{4}, \ldots \}
\end{align*} 

```{r 03-exm-3, echo = FALSE, fig.cap = "", fig.align="center"} 
knitr::include_graphics("figures/03-exm-3.png") 
```

Clearly $1$ is an upper bound.\
Is there an upper bound $< 1$?
:::

::: {.proposition #two name="Axiom of Archimedes"}
$\mathbb{N}$ is not bounded above in $\mathbb{R}$.
:::

::: {.proof}
Suppose on the contrary that $\mathbb{N}$ is bounded above.
Let $c = \sup \mathbb{N}$.\
By definition, $c - 1$ is not an upper bound for $\mathbb{N}$, so $\exists \; n \in \mathbb{N}$ s.t. $n > c - 1$.\
But then $n + 1 \in \mathbb{N}$ with $n + 1 > c$, contradicting the fact that $c$ was an upper bound.
:::

::: {.corollary #three}
For all $t > 0, \exists \; n \in \mathbb{N}$ with $\frac{1}{n} < t$.
```{r 03-corr-1, echo = FALSE, fig.cap = "", fig.align="center"} 
knitr::include_graphics("figures/03-corr-1.png") 
```
:::

::: {.proof}
Given $t > 0$, by Proposition \@ref(prp:two), $\exists \; n \in N$ s.t. $n > \frac{1}{t}$.
Hence $\frac{1}{n} < t$.
:::

A set $S$ is said to be bounded below if $\exists \; x$ s.t. $x \leq y \; \forall \; y \in S$.
Such an $x$ is called a *lower bound for $S$*.
If $S$ is non-empty and bounded below, then $-S = \{ y: y \in S \}$ is non-empty and bounded above, so it has a least upper bound, $c$ say.
Hence $-c$ is the *greatest lower bound of $S$*.
We denote it by "$\operatorname{GLB}(S)$", or "$\operatorname{infimum} (S)$", or "$\inf (S)$".

Corollary \@ref(cor:three) immediately implies that $\inf ( \{ \frac{1}{n} : n \in \mathbb{N} \}) = 0$.

Proposition \@ref(prp:two) and Corollary \@ref(cor:three) show that there are no "infinitely large" or "infinitely small" numbers in $\mathbb{R}$.

Back to Example \@ref(exm:three): we have $\sup (S) = 1$, for suppose $c < 1$ is an upper bound for $S$.
Then $1 - \frac{1}{n} < c \; \forall \; n \in \mathbb{N}$, so $0 < 1 - c < \frac{1}{n}$ contradicting Corollary \@ref(cor:three).

::: {.theorem #t-four} 
There exists $x \in \mathbb{R}$ with $x^2 = 2$.
:::

::: {.proof}
Let $S = \{ x \in \mathbb{R}: x^2 < 2 \}$.

```{r 03-thm-4, echo = FALSE, fig.cap = "", fig.align="center"} 
knitr::include_graphics("figures/03-thm-4.png") 
```

Note that $S$ is non-empty since e.g. $1 \in S$.
It is also bounded above e.g. by $2$.
Hence $S$ has a supremum, which we denote by $c$.

Observe that $1 < c < 2$.
We claim that $c^2 = 2$.
Suppose on the contrary that $c^2 < 2$.\
For $0 < t < 1$, have $(c + t)^2 = c^2 + 2ct + t^2 \leq c^2 + 4t + t  = c^2 + 5t < 2$ for small t (namely, $t = \frac{2 - c^2}{5}$).
But this contradicts the assumption that $c$ was an upper bound for $S$ (since $c + t \in S$).
Suppose now that $c^2 > 2$.\
For $0 < t < 1$, have $(c - t)^2 = c^2 - 2ct + t^2 \geq c^2 - 4t > 2$ for small t (namely, $t = \frac{c^2 - 2}{4}$).\
This contradicts the assumption that $c$ is the *least* upper bound for $S$ (since $c - t$ is an upper bound for $S$).
:::

::: {.remark}
The same proof shows that $x^{\frac{1}{n}}$ exists $\forall \; n \in N, \forall \; x \in \mathbb{R}, x > 0$. 
[i.e. $\forall \; n \in \mathbb{N}, \forall \; x \in \mathbb{R}, x > 0, \exists \; y \in \mathbb{R}$ s.t. $y^n = x$.]\
A real that is not rational is called *irrational*. 
E.g. $\sqrt{2}, \sqrt{3}, \sqrt{5}, \sqrt{6}$ are irrational.\
Also $2 + 3\sqrt{5}$ is irrational.
Indeed if $2 + 3\sqrt{5} = \frac{a}{b}$ with $\frac{a}{b} \in \mathbb{N}$ then $\sqrt{5} = \frac{a  - 2b}{3b} \in \mathbb{Q}$, ⨳. $\Box$
:::

The rationals are *dense* in $\mathbb{R}$, in the sense that $\forall \; a < b \in \mathbb{R}, \exists \; c \in Q$ with $a < c < b$.

::: {.proof}
Indeed, we may assume $a \geq 0$ (we can just add an integer, find the rational and subtract the integer).

By Corollary \@ref(cor:three), $\exists \; n \in \mathbb{N}$ with $\frac{1}{n} < b - a$.
By the Axiom of Archimedes \@ref(prp:two), $\exists \; N \in \mathbb{N}$ s.t. $N > b$.
Let $T = \{ k \in \mathbb{N} : \frac{k}{n} \geq b \}$,\
then $Nn \in T$, so $T \neq \emptyset$.\
By the Well-Ordering Principle, $T$ has a least element $m$.
Set $c = (m - 1) \cdot \frac{1}{n}$.
Since $m - 1 \notin T$, $c < b$.\
If $c \leq a$ then $\frac{m}{n} = c + \frac{1}{n} < a + b - a = b$, ⨳ of $m \in T$. 
Hence $a < c < b$.
:::

The irrationals are also dense in $\mathbb{R}$, i.e. $\forall \; a < b \in \mathbb{R}, \exists \; c \in \mathbb{R} \setminus \mathbb{Q}$ with $a < c < b$.\
Indeed, take a rational $c$ with $a \sqrt{2} < c < b \sqrt{2}$ then $a < \frac{c}{\sqrt{2}} < b$.

## Sequences

A *sequence* is an enumerated collection of objects in which repetitions are allowed and order matters.\
Write $a_1, a_2, a_3, \ldots$ or $(a_n)_{n = 1}^\infty$.\
What does it mean for a sequence $a_1, a_2, \ldots$ to tend to a limit $l$?\
It is *not* enough that the terms $a_n$ get closer to $l$, e.g. we would not want $\frac{1}{2}, \frac{3}{4}, \frac{4}{5}, \ldots$ to tend to $37$.\
And it is *not* enough that the $a_n$ get arbitrarily close to $l$, $\forall \; \epsilon > 0, \exists \; n \in \mathbb{N}$ s.t. $l - \epsilon < a_n < l + \epsilon$, e.g. we would not want $\frac{1}{2}, 10, \frac{2}{3}, 10, \frac{3}{4}, 10, \ldots$ to tend to $1$.\
We want the sequence to get *and stay* with $\epsilon$ of $l$.

We say that the *sequence $a_1, a_2, \ldots$ tends to the limit $l \in \mathbb{R}$ as $n$ tends to infinity* if, $\forall \; \epsilon > 0, \exists \; N \in \mathbb{N}$ s.t. $\forall \; n \geq N, \lambda - \epsilon < a_n < \lambda + \epsilon$.

```{r 03-limit-sequence, echo = FALSE, fig.cap = "", fig.align="center"} 
knitr::include_graphics("figures/03-limit-sequence.png") 
```

More compactly: $\forall \; \epsilon > 0, \exists \; N \in \mathbb{N}$ s.t. $\forall \; n \geq N, | a_n - l | < \epsilon$, where the *absolute value* $|x|$ of $x \in \mathbb{R}$ is defined by 
\begin{align*}
    |x| = \begin{cases}
        x & \text{if } x \geq 0 \\
        -x & \text{if } x < 0
    \end{cases}.
\end{align*} 
We think of $|a - b|$ as the "distance between $a$ and $b$ on the number line", e.g. $|2 - 9| = |9 - 2| = 7$.
It is easy to check the triangle inequality $|a - b| \leq |a- c| + |c - b|$.

When $a_n$ tends to $l$ as $n$ tends to infinity, we also write "$a_n \to l$ as $n \to \infty$" or "$\lim_{n \to \infty} a_n = l$" or "$(a_n)_{n = 1}^\infty$ converges to $l$".\
If there is a limit $l$ but it is not specified we simply say "$(a_n)_{n = 1}^\infty$ converges".

If $(a_n)_{n = 1}^\infty$ does not converge, then we say it *diverges*.

::: {.example}
\

1. $\frac{1}{2}, \frac{2}{3}, \frac{3}{4}, \frac{4}{5}, \ldots$\
$a_n = 1 - \frac{1}{n}$.\
Given $\epsilon > 0$, choose $N > \frac{1}{\epsilon}$ (by the Axiom of Archimedes, \@ref(prp:two)).
If $n \geq N$, then 
\begin{align*}
    |a_n - 1| &= |1 - \frac{1}{n} - 1| \\
    &= \frac{1}{n} \\
    &\leq \frac{1}{N} \\
    &< \epsilon.
\end{align*} 
Hence $a_n \to 1$ as $n \to \infty$.

2. $0, \frac{1}{2}, \frac{1}{4}, 0, \frac{1}{6}, \ldots$\
\begin{align*}
    a_n = \begin{cases}
        \frac{1}{n} & n \text{ even} \\
        0 & n \text{ odd}
    \end{cases} 
\end{align*} 
Given $\epsilon > 0$, pick $N > \frac{1}{\epsilon}$.\
If $n \geq N$, then 
\begin{align*}
    |a_n - 0| &\leq \frac{1}{n} \\
    &\leq \frac{1}{N} \\
    &< \epsilon.
\end{align*} 
Hence $a_n \to 0$ as $n \to \infty$.

3. $\frac{1}{2}, \frac{1}{2} + \frac{1}{4}, \frac{1}{2} + \frac{1}{4} + \frac{1}{8}, \ldots$\
$a_n = 1 - \frac{1}{2^n}$ (by induction)\
Given $\epsilon > 0$, choose $N > \frac{1}{\epsilon}$.
If $n \geq N$, then 
\begin{align*}
    |a_n - 1| &= |1 - \frac{1}{2^n} - 1| \\
    &= \frac{1}{2^n} \\
    &\leq \frac{1}{n} \\
    &\leq \frac{1}{N} \\
    &< \epsilon.
\end{align*} 
Hence $a_n \to 1$ as $n \to \infty$.

4. $-1, 1, -1, 1, -1, 1, \ldots$\
$a_n = (-1)^n$

If $a_n$ does not tend to $l$, we write "$a_n \not\to l$".
This mean $\exists \epsilon > 0 \; \forall \; N \in \mathbb{N} \exists n \geq N |a_n - l| \geq \epsilon$.\
Indeed, in 4, we show that e.g. $a_n \not\to 0$.
Let $\epsilon = 1$.
Then $|a_n - 0| = 1 \; \forall \; n \in N$.
In fact, $a_n$ does not converge to any limit $l \in \mathbb{R}$.
For suppose $a_n \to l$ as $n \to \infty$, for some $l \in \mathbb{R}$.
Let $\epsilon = 1$.
:::